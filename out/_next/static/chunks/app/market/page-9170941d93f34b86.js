(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[828],{9348:function(e,t,a){Promise.resolve().then(a.bind(a,967))},967:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var s=a(7437),n=a(1552),r=a(5355),l=a(2265),o=a(89),i=a(6463),c=a(6294);let d=e=>{var t,a,n,r;let{value:i,onChange:d,sortList:u,disabled:m=!1}=e,[p,x]=(0,l.useState)(null!==(n=null==i?void 0:i.toString())&&void 0!==n?n:"0");(0,l.useEffect)(()=>{var e;x(null!==(e=null==i?void 0:i.toString())&&void 0!==e?e:"0")},[i]);let h=null!==(r=null===(t=u.find(e=>e.value.toString()===p))||void 0===t?void 0:t.label)&&void 0!==r?r:null===(a=u.find(e=>0===e.value))||void 0===a?void 0:a.label,{t:f}=(0,o.$G)();return(0,s.jsxs)(c.Ph,{disabled:m,value:p,defaultValue:"0",onValueChange:e=>{x(e);let t=Number(e);null==d||d(isNaN(t)?void 0:t)},children:[(0,s.jsx)(c.i4,{className:"w-[115px] sm:w-48 sm:m-2 h-10 bg-transparent focus:ring-0 focus:ring-offset-0",style:{height:"40px"},children:(0,s.jsx)(c.ki,{placeholder:h||"Select an option",children:h})}),(0,s.jsx)(c.Bw,{children:u.map(e=>(0,s.jsx)(c.Ql,{value:e.value.toString(),className:"text-zinc-300 focus:bg-zinc-700 focus:text-zinc-200",children:e.label},e.value))})]})};var u=a(5033),m=a(3769),p=a(5273);let x=e=>{let{value:t,onChange:a}=e;return(0,s.jsx)(p.mQ,{value:t,onValueChange:e=>{console.log(e),null==a||a(e)},className:" h-full",children:(0,s.jsx)(p.dr,{className:"h-full",children:[{label:"OrdX",key:"ordx"},{label:"Runes",key:"runes"}].map(e=>(0,s.jsx)(p.SP,{value:e.key,className:"",children:e.label},e.key))})})};var h=a(495);let f=()=>{let e=(0,i.useRouter)(),t=t=>{e.push(t.path)};return(0,s.jsx)("div",{className:"flex gap-2 mb-4",children:[{label:".btc",path:"/ordx/ticker?ticker=btc&assets_type=ns"},{label:".sats",path:"/ordx/ticker?ticker=sats&assets_type=ns"},{label:".unisat",path:"/ordx/ticker?ticker=unisat&assets_type=ns"},{label:".x",path:"/ordx/ticker?ticker=x&assets_type=ns"},{label:"pureName",path:"/ordx/ticker?ticker=un&assets_type=ns"}].map(e=>(0,s.jsx)(h.z,{variant:"outline",onClick:()=>t(e),className:"border border-gray-700/90 rounded-xl",children:e.label},e.label))})};var g=a(1698),b=a(6975),v=a(1647),y=a(6648),j=a(8030);let _=(0,j.Z)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),w=(0,j.Z)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);var k=a(3274);function N(){let{t:e}=(0,o.$G)(),t=(0,i.useRouter)(),a=(0,i.useSearchParams)(),{chain:c,network:p}=(0,m.Ee)(),h=a.get("type")||"ticker",j=a.get("protocol")||"ordx",[N,S]=(0,l.useState)(h),[C,z]=(0,l.useState)(j),[V,M]=(0,l.useState)(1),[E,D]=(0,l.useState)("assets_name"),[F,P]=(0,l.useState)(0),[R,T]=(0,l.useState)({}),I=(0,l.useMemo)(()=>[{label:e("common.time_1D"),value:1},{label:e("common.time_7D"),value:7},{label:e("common.time_30D"),value:30}],[e]),[A,L]=(0,l.useState)({column:"assets_name",direction:"ascending"}),q=["topAssets",c,p,C,N,V,E,F],{data:O,error:W,isLoading:Z}=(0,r.a)({queryKey:q,queryFn:async()=>{let e=await n.w.getTopAssets({assets_protocol:C,interval:V,top_count:200,top_name:"",sort_field:String(E),sort_order:F});return(null==e?void 0:e.data)||[]},enabled:!!c&&!!p}),Q=(0,l.useMemo)(()=>(null==O?void 0:O.map(e=>{let t=(0,u.vW)(e.assets_name);return{...e,assets_name:t}}))||[],[O]);(0,l.useEffect)(()=>{if(!Q.length||!window.sat20)return;let e=!0;return(async()=>{let t=await Promise.all(Q.map(async e=>{try{let t=await window.sat20.getTickerInfo(e.assets_name);if(null==t?void 0:t.ticker){let a=JSON.parse(t.ticker);return[e.assets_name,(null==a?void 0:a.displayname)||e.assets_name]}}catch(e){}return[e.assets_name,e.assets_name]}));e&&T(Object.fromEntries(t))})(),()=>{e=!1}},[Q]);let K=(0,l.useMemo)(()=>Q.map(e=>({...e,label:R[e.assets_name]||e.assets_name})),[Q,R]),U=e=>{let a=String(e);t.push("/order?asset=".concat(a))},$=e=>{let t=B.find(t=>t.key===e);if(!t||!t.allowsSorting)return;let a="ascending";A.column===e&&"ascending"===A.direction&&(a="descending"),L({column:e,direction:a}),D(e),P("ascending"===a?0:1)},B=(0,l.useMemo)(()=>[{key:"assets_name",label:"ns"===N?e("common.domain_name"):e("common.assets_name"),allowsSorting:!0},{key:"onsell_lowest_price",label:e("common.lowest_price"),allowsSorting:!0},{key:"onsell_lowest_price_change",label:e("common.price_change"),allowsSorting:!0},{key:"tx_total_volume",label:e("common.tx_total_volume"),allowsSorting:!0},{key:"market_cap",label:e("common.total_amount"),allowsSorting:!0},{key:"tx_order_count",label:e("common.tx_order_count"),allowsSorting:!0},{key:"holder_count",label:e("common.holder_count"),allowsSorting:!0},{key:"onsell_order_count",label:e("common.order_num"),allowsSorting:!0}],[e,N]);return W&&console.error("Error fetching assets:",W),(0,s.jsxs)("div",{className:"bg-transparent p-0 sm:pt-2 w-full",children:[(0,s.jsxs)("div",{className:"my-2 px-2 sm:px-1 flex justify-between items-center gap-1",children:[(0,s.jsx)(x,{value:C,onChange:e=>{z(e),P(0),D("assets_name"),L({column:"assets_name",direction:"ascending"});let t=new URL(window.location.href);t.searchParams.set("protocol",e),window.history.replaceState({},"",t.toString())}}),(0,s.jsx)(d,{sortList:I,value:V,disabled:Z||!Q.length,onChange:e=>{"number"==typeof e&&M(e)}})]}),"ns"===N&&(0,s.jsx)(f,{}),(0,s.jsxs)("div",{className:"relative overflow-x-auto w-full px-3 pt-2 bg-zinc-900 rounded-lg",children:[(0,s.jsxs)(b.iA,{className:"w-full ",children:[(0,s.jsx)(b.xD,{className:"top-0 z-20 bg-zinc-800",children:(0,s.jsx)(b.SC,{className:"rounded-2xl",children:B.map(e=>(0,s.jsx)(b.ss,{onClick:()=>$(e.key),className:"h-12 py-3 text-sm font-medium text-gray-300  whitespace-nowrap ".concat(e.allowsSorting?"cursor-pointer hover:bg-zinc-700":""," ").concat("assets_name"===e.key?"z-30 bg-zinc-800 pl-8 pr-4":"px-4"),children:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[e.label,e.allowsSorting&&A.column===e.key&&("ascending"===A.direction?(0,s.jsx)(_,{className:"h-4 w-4"}):(0,s.jsx)(w,{className:"h-4 w-4"}))]})},e.key))})}),(0,s.jsx)(b.RM,{children:Z||0!==K.length?K.map(e=>(0,s.jsx)(b.SC,{onClick:()=>U(e.assets_name),className:"cursor-pointer  hover:bg-zinc-800/50 text-gray-300",children:B.map(t=>{let a=t.key,n=e[a];if("assets_name"===a){let t=e.assets_name,n=e.assets_type,r=e.nickname,l=e.logo,o=e.label||r||t;console.log("displayTick:",o);let i="string"==typeof o?o.split(":").pop()||o:"";return(0,s.jsx)(b.pj,{className:"z-10 pl-5 pr-4 py-3",children:(0,s.jsxs)("div",{className:"flex items-center text-sm md:text-base",children:[l?(0,s.jsx)(y.default,{src:"".concat("https://apiprd.ordx.market").concat("testnet"===p?"/testnet":"").concat(l),alt:"logo",width:36,height:36,className:"rounded-full flex-shrink-0"}):"exotic"===n?(0,s.jsx)(y.default,{src:"/raresats/".concat(r||o,".svg"),alt:"logo",width:36,height:36,className:"flex-shrink-0",onError:e=>{e.target.src="/placeholder-avatar.png"}}):(0,s.jsx)(v.qE,{className:"w-9 h-9 flex-shrink-0",children:(0,s.jsx)(v.Q5,{className:"text-xl text-gray-300 font-black bg-zinc-700",children:"string"==typeof i?i.slice(0,1).toUpperCase():"?"})}),(0,s.jsx)("span",{className:"pt-0 ml-2 break-keep whitespace-nowrap",children:i})]})},a)}if("lowest_price"===a)return(0,s.jsx)(b.pj,{className:"px-4 py-3",children:(0,s.jsx)("div",{className:"flex text-sm md:text-base whitespace-nowrap",children:"number"==typeof n?"".concat(n.toFixed(2)," sats"):"-"})},a);if("onsell_lowest_price_change"===a){let e="string"==typeof n?parseFloat(n):n;return(0,s.jsx)(b.pj,{className:"px-4 py-3",children:(0,s.jsx)("div",{className:"flex text-sm md:text-base whitespace-nowrap ".concat(e>0?"text-red-500":e<0?"text-green-500":"text-gray-300"),children:"string"==typeof n?n:"-"})},a)}if("tx_total_volume"===a){let t=e.tx_amount_change,r="string"==typeof t?parseFloat(t):t;return(0,s.jsx)(b.pj,{className:"px-4 py-3",children:(0,s.jsxs)("div",{className:"flex flex-col text-sm md:text-base whitespace-nowrap",children:[(0,s.jsx)("span",{children:"number"==typeof n?n.toLocaleString():"-"}),"0.00%"!==t&&(0,s.jsx)("span",{className:"text-xs ".concat(r>0?"text-red-500":r<0?"text-green-500":"text-gray-300"),children:"string"==typeof t?t:"-"})]})},a)}if("market_cap"===a){let e=(0,u.Ay)(n),t="number"==typeof e?(0,s.jsx)(g.H,{btc:e}):0;return(0,s.jsx)(b.pj,{className:"px-4 py-3",children:(0,s.jsxs)("div",{className:"flex flex-col text-sm md:text-base whitespace-nowrap",children:[(0,s.jsxs)("span",{children:[e.toFixed(2)," BTC"]}),(0,s.jsxs)("span",{className:"text-xs text-gray-400",children:["$",t]})]})},a)}if("holder_count"===a){let t=e.holder_count_change,r="string"==typeof t?parseFloat(t):t;return(0,s.jsx)(b.pj,{className:"px-4 py-3",children:(0,s.jsxs)("div",{className:"flex flex-col text-sm md:text-base whitespace-nowrap",children:[(0,s.jsx)("span",{children:"number"==typeof n?n.toLocaleString():"-"}),"0.00%"!==t&&(0,s.jsx)("span",{className:"text-xs ".concat(r>0?"text-red-500":r<0?"text-green-500":"text-gray-300"),children:"string"==typeof t?t:"-"})]})},a)}return(0,s.jsx)(b.pj,{className:"text-sm md:text-base px-4 py-3",children:"number"==typeof n?n.toLocaleString():null!=n?n:"-"},a)})},e.assets_name)):(0,s.jsx)(b.SC,{className:"hover:bg-zinc-800/50",children:(0,s.jsx)(b.pj,{colSpan:B.length,className:"h-24 text-center text-zinc-500 py-3",children:"No Data."})})})]}),Z&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 z-40 rounded-lg",children:(0,s.jsx)(k.Z,{className:"h-8 w-8 animate-spin text-primary"})})]})]})}},5273:function(e,t,a){"use strict";a.d(t,{SP:function(){return i},dr:function(){return o},mQ:function(){return l},nU:function(){return c}});var s=a(7437);a(2265);var n=a(2447),r=a(2732);function l(e){let{className:t,...a}=e;return(0,s.jsx)(n.fC,{"data-slot":"tabs",className:(0,r.cn)("flex flex-col gap-2",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)(n.aV,{"data-slot":"tabs-list",className:(0,r.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...a})}function i(e){let{className:t,...a}=e;return(0,s.jsx)(n.xz,{"data-slot":"tabs-trigger",className:(0,r.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a})}function c(e){let{className:t,...a}=e;return(0,s.jsx)(n.VY,{"data-slot":"tabs-content",className:(0,r.cn)("flex-1 outline-none",t),...a})}},3274:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(8030).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2447:function(e,t,a){"use strict";a.d(t,{VY:function(){return E},aV:function(){return V},fC:function(){return z},xz:function(){return M}});var s=a(2265),n=a(8149),r=a(8324),l=a(3398),o=a(1383),i=a(5171),c=a(7513),d=a(1715),u=a(3201),m=a(7437),p="Tabs",[x,h]=(0,r.b)(p,[l.Pc]),f=(0,l.Pc)(),[g,b]=x(p),v=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,onValueChange:n,defaultValue:r,orientation:l="horizontal",dir:o,activationMode:p="automatic",...x}=e,h=(0,c.gm)(o),[f,b]=(0,d.T)({prop:s,onChange:n,defaultProp:r});return(0,m.jsx)(g,{scope:a,baseId:(0,u.M)(),value:f,onValueChange:b,orientation:l,dir:h,activationMode:p,children:(0,m.jsx)(i.WV.div,{dir:h,"data-orientation":l,...x,ref:t})})});v.displayName=p;var y="TabsList",j=s.forwardRef((e,t)=>{let{__scopeTabs:a,loop:s=!0,...n}=e,r=b(y,a),o=f(a);return(0,m.jsx)(l.fC,{asChild:!0,...o,orientation:r.orientation,dir:r.dir,loop:s,children:(0,m.jsx)(i.WV.div,{role:"tablist","aria-orientation":r.orientation,...n,ref:t})})});j.displayName=y;var _="TabsTrigger",w=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,disabled:r=!1,...o}=e,c=b(_,a),d=f(a),u=S(c.baseId,s),p=C(c.baseId,s),x=s===c.value;return(0,m.jsx)(l.ck,{asChild:!0,...d,focusable:!r,active:x,children:(0,m.jsx)(i.WV.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":p,"data-state":x?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:u,...o,ref:t,onMouseDown:(0,n.M)(e.onMouseDown,e=>{r||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(s)}),onKeyDown:(0,n.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(s)}),onFocus:(0,n.M)(e.onFocus,()=>{let e="manual"!==c.activationMode;x||r||!e||c.onValueChange(s)})})})});w.displayName=_;var k="TabsContent",N=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:n,forceMount:r,children:l,...c}=e,d=b(k,a),u=S(d.baseId,n),p=C(d.baseId,n),x=n===d.value,h=s.useRef(x);return s.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,m.jsx)(o.z,{present:r||x,children:a=>{let{present:s}=a;return(0,m.jsx)(i.WV.div,{"data-state":x?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":u,hidden:!s,id:p,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:s&&l})}})});function S(e,t){return"".concat(e,"-trigger-").concat(t)}function C(e,t){return"".concat(e,"-content-").concat(t)}N.displayName=k;var z=v,V=j,M=w,E=N}},function(e){e.O(0,[695,280,951,56,4,115,971,23,744],function(){return e(e.s=9348)}),_N_E=e.O()}]);