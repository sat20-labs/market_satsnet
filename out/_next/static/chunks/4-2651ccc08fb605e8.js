"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4],{2614:function(t,e,a){var n=a(8617),r=a(4842);class s{constructor(){var t=this;this.BASE_URL="https://apidev.sat20.org",this.generatePath=(t,e,a)=>"SatoshiNet"===e?"".concat(this.BASE_URL,"/satsnet").concat("testnet"===a?"/testnet":"/mainnet","/").concat(t):"".concat(this.BASE_URL).concat("testnet"===a?"/btc/testnet":"/btc/mainnet","/").concat(t),this.request=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",o=n.E.getState(),{network:i}=r.$.getState(),{chain:c}=o,l=t.generatePath(e,c,i);"POST"===s&&a.hex&&JSON.stringify({SignedTxHex:a.hex});let u=await fetch(l);if(!u.ok)throw Error("HTTP error! status: ".concat(u.status));return u.json()},this.getUtxos=async t=>this.request("allutxos/address/".concat(t)),this.getTxRaw=async t=>this.request("btc/rawtx/".concat(t)),this.getPlainUtxos=async t=>this.request("utxo/address/".concat(t,"/0")),this.getRareUtxos=async t=>this.request("exotic/address/".concat(t)),this.getUtxo=async t=>this.request("utxo/range/".concat(t)),this.getUtxoInfo=async t=>this.request("v3/utxo/info/".concat(t)),this.getNsName=async t=>this.request("ns/name/".concat(t)),this.getAddressSummary=async t=>this.request("v3/address/summary/".concat(t)),this.getBestHeight=async()=>this.request("bestheight"),this.getNsListByAddress=async t=>this.request("ns/address/".concat(t)),this.getSeedByUtxo=async t=>this.request("utxo/seed/".concat(t)),this.getOrdxAddressHolders=async function(e,a){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return t.request("v3/address/asset/".concat(e,"/").concat(a,"?start=").concat(n,"&limit=").concat(r))},this.getOrdxNsUxtos=async function(e,a){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return t.request("ns/address/".concat(e,"/").concat(a,"?start=").concat((n-1)*r,"&limit=").concat(r))},this.pushTx=async t=>this.request("btc/tx",{hex:t},"POST"),this.getRecommendedFees=async()=>{let{network:t}=n.E.getState();return(await fetch("https://apiprd.ordx.market/".concat("mainnet"===t?"btc":"testnet/","ordx/GetRecommendedFees"))).json()}}}let o=new s;e.Z=o},1552:function(t,e,a){a.d(e,{a:function(){return V.Z},w:function(){return n}});var n={};a.r(n),a.d(n,{addOrderTask:function(){return y},bindTwitterAccount:function(){return H},bulkBuyOrder:function(){return E},buyOrder:function(){return b},cancelOrder:function(){return v},getAddressAssetsList:function(){return L},getAddressAssetsSummary:function(){return _},getAddressAssetsValue:function(){return P},getAddressOrdxList:function(){return u},getAppVersion:function(){return R},getAssetsAnalytics:function(){return T},getAssetsSummary:function(){return d},getBTCPrice:function(){return A},getChargedTaskList:function(){return h},getFeeDiscount:function(){return B},getHistory:function(){return m},getLastOrderTaskByParameters:function(){return U},getNameCategoryList:function(){return q},getOrderTaskList:function(){return $},getOrders:function(){return g},getOrdxAddressHolders:function(){return C},getOrdxAssets:function(){return l},getRecommendedFees:function(){return k},getSats:function(){return j},getSatsByAddress:function(){return D},getTopAssets:function(){return f},getTwitterAccount:function(){return I},getTwitterActivity:function(){return z},getUtxoByValue:function(){return G},lockBulkOrder:function(){return O},lockOrder:function(){return x},request:function(){return c},submitBatchOrders:function(){return p},submitOrder:function(){return S},unlockBulkOrder:function(){return N},unlockOrder:function(){return w},updateTwitterActivity:function(){return F}});var r=a(5033),s=a(3769),o=a(4842);let i=(t,e)=>{let a="";return console.log("request chain/network:",t,e),"Bitcoin"===t?a="https://apiprd.ordx.market"+("testnet"===e?"/testnet":""):"SatoshiNet"===t&&(a="https://apidev.ordx.market"+("testnet"===e?"/satsnet/testnet":"/satsnet")),location.hostname.includes("test")||location.hostname.includes("dev")&&(a=a.replace("apiprd","apidev")),a},c=async function(t,e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{publicKey:n,signature:s,chain:o,network:c,connected:l}=e,{headers:u={},method:d="GET",data:g,formData:m,timeout:f=1e4,...h}=a,y=i(o,c),S="".concat(y).concat(t),p={method:d,...h},v=new Headers(u);if(p.headers=v,"GET"===d&&g){let t=new URLSearchParams((0,r.$B)(g)).toString();t&&(S+="?".concat(t))}else("POST"===d||"PUT"===d||"PATCH"===d||"DELETE"===d)&&(m?(p.body=m,v.delete("Content-Type")):g&&(p.body=JSON.stringify(g),v.has("Content-Type")||v.set("Content-Type","application/json")));l&&s&&n&&(v.set("Publickey",n),v.set("Signature",s));let x=new AbortController,w=setTimeout(()=>x.abort(),f);p.signal=x.signal;try{console.log("fetch request:",d,S,p);let t=await fetch(S,p);if(clearTimeout(w),!t.ok){let e=null,a="HTTP error! Status: ".concat(t.status," ").concat(t.statusText," for ").concat(d," ").concat(S);try{a=(null==(e=await t.json())?void 0:e.msg)||(null==e?void 0:e.message)||a,(null==e?void 0:e.code)&&(a+=" (API Code: ".concat(e.code,")"))}catch(e){console.warn("Could not parse error response body as JSON:",e);try{let e=await t.text();a+="\nResponse body: ".concat(e)}catch(t){}}throw Error(a)}if(204===t.status)return null;let e=await t.json();if(console.log("fetch response data:",e),(null==e?void 0:e.code)===-1||(null==e?void 0:e.code)===500){let t=(null==e?void 0:e.msg)||(null==e?void 0:e.message)||"Unknown API error";throw console.error("API Error:",t,e),(t.includes("signature verification failed")||t.includes("public and signature parameters are required"))&&console.warn("API Signature Error, potentially clearing signature:",t),Error("API Error: ".concat(t," (Code: ").concat(e.code,")"))}return e}catch(t){if(clearTimeout(w),console.error("Request failed: ".concat(d," ").concat(S),t),"AbortError"===t.name)throw Error("Request timed out after ".concat(f/1e3," seconds for ").concat(d," ").concat(S));throw t}},l=async t=>{let{address:e,assets_type:a,assets_name:n,utxo:r,offset:i,size:l,category:u}=t,{publicKey:d,connected:g}=o.$.getState(),{signature:m}=s.Ee.getState(),{chain:f,network:h}=s.Ee.getState(),y=await c("/ordx/GetAddressOrdxAssets",{publicKey:d,signature:m,chain:f,network:h,connected:g},{method:"GET",data:{address:e,offset:i,size:l,assets_type:a,assets_name:n,category:u,utxo:r}});return console.log("getOrdxAssets res",y),y},u=async t=>{let{address:e}=t,{publicKey:a,connected:n}=o.$.getState(),{signature:r}=s.Ee.getState(),{chain:i,network:l}=s.Ee.getState();return await c("/ordx/GetAddressOrdxList",{publicKey:a,signature:r,chain:i,network:l,connected:n},{data:{address:e}})},d=async t=>{let{assets_name:e}=t,{publicKey:a,connected:n}=o.$.getState(),{signature:r}=s.Ee.getState(),{chain:i,network:l}=s.Ee.getState();return await c("/ordx/GetAssetsSummary",{publicKey:a,signature:r,chain:i,network:l,connected:n},{data:{assets_name:e}})},g=async t=>{let{assets_name:e,assets_protocol:a,offset:n,size:r,sort:i=0,type:l=1,category:u,address:d,hide_locked:g}=t,{publicKey:m,connected:f}=o.$.getState(),{signature:h}=s.Ee.getState(),{chain:y,network:S}=s.Ee.getState();return await c("/ordx/GetOrders",{publicKey:m,signature:h,chain:y,network:S,connected:f},{data:{assets_name:e,assets_protocol:a,offset:n,size:r,sort:i,type:l,address:d,category:u,hide_locked:g}})},m=async t=>{let{assets_name:e,assets_type:a,offset:n,size:r,sort:i=0,address:l,filter:u}=t,{publicKey:d,connected:g}=o.$.getState(),{signature:m}=s.Ee.getState(),{chain:f,network:h}=s.Ee.getState();return await c("/ordx/GetHistory",{publicKey:d,signature:m,chain:f,network:h,connected:g},{data:{assets_name:e,assets_type:a,offset:n,size:r,sort:i,address:l,filter:u}})},f=async t=>{let{assets_protocol:e="",assets_type:a="",interval:n=1,top_count:r=20,top_name:i="",sort_field:l="",sort_order:u=0}=t,{publicKey:d,connected:g}=o.$.getState(),{signature:m}=s.Ee.getState(),{chain:f,network:h}=s.Ee.getState();return await c("/ordx/GetTopAssets",{publicKey:d,signature:m,chain:f,network:h,connected:g},{data:{assets_protocol:e,assets_type:a,interval:0===n?void 0:n,top_count:r,top_name:i,sort_field:l,sort_order:u}})},h=async t=>{let{address:e,offset:a,size:n,sort_field:r,sort_order:i}=t,{publicKey:l,connected:u}=o.$.getState(),{signature:d}=s.Ee.getState(),{chain:g,network:m}=s.Ee.getState();return await c("/ordx/GetChargedTaskList",{publicKey:l,signature:d,chain:g,network:m,connected:u},{data:{address:e,offset:a,size:n,sort_field:r,sort_order:i}})},y=async t=>{let{address:e,fees:a,parameters:n,txid:r,type:i}=t,{publicKey:l,connected:u}=o.$.getState(),{signature:d}=s.Ee.getState(),{chain:g,network:m}=s.Ee.getState();return await c("/ordx/AddOrderTask",{publicKey:l,signature:d,chain:g,network:m,connected:u},{method:"POST",data:{address:e,fees:a,parameters:n,txid:r,type:i}})},S=async t=>{let{address:e,raw:a}=t,{publicKey:n,connected:r}=o.$.getState(),{signature:i}=s.Ee.getState(),{chain:l,network:u}=s.Ee.getState();return await c("/ordx/SubmitOrder",{publicKey:n,signature:i,chain:l,network:u,connected:r},{method:"POST",data:{address:e,raw:a}})},p=async t=>{let{address:e,orders:a}=t,{publicKey:n,connected:r}=o.$.getState(),{signature:i}=s.Ee.getState(),{chain:l,network:u}=s.Ee.getState();return await c("/ordx/SubmitBatchOrders",{publicKey:n,signature:i,chain:l,network:u,connected:r},{method:"POST",data:{address:e,order_query:a}})},v=async t=>{let{address:e,order_id:a}=t,{publicKey:n,connected:r}=o.$.getState(),{signature:i}=s.Ee.getState(),{chain:l,network:u}=s.Ee.getState();return await c("/ordx/CancelOrder",{publicKey:n,signature:i,chain:l,network:u,connected:r},{method:"POST",data:{address:e,order_id:a}})},x=async t=>{let{address:e,order_id:a}=t,{publicKey:n,connected:r}=o.$.getState(),{signature:i}=s.Ee.getState(),{chain:l,network:u}=s.Ee.getState();return await c("/ordx/LockOrder",{publicKey:n,signature:i,chain:l,network:u,connected:r},{method:"POST",data:{address:e,order_id:a}})},w=async t=>{let{address:e,order_id:a}=t,{publicKey:n,connected:r}=o.$.getState(),{signature:i}=s.Ee.getState(),{chain:l,network:u}=s.Ee.getState();return await c("/ordx/UnlockOrder",{publicKey:n,signature:i,chain:l,network:u,connected:r},{method:"POST",data:{address:e,order_id:a}})},b=async t=>{let{address:e,order_id:a,raw:n}=t,{publicKey:r,connected:i}=o.$.getState(),{signature:l}=s.Ee.getState(),{chain:u,network:d}=s.Ee.getState();return await c("/ordx/BuyOrder",{publicKey:r,signature:l,chain:u,network:d,connected:i},{method:"POST",data:{address:e,order_id:a,raw:n}})},E=async t=>{let{address:e,order_ids:a,raw:n}=t,{publicKey:r,connected:i}=o.$.getState(),{signature:l}=s.Ee.getState(),{chain:u,network:d}=s.Ee.getState();return await c("/ordx/BulkBuyOrder",{publicKey:r,signature:l,chain:u,network:d,connected:i},{method:"POST",data:{address:e,order_ids:a,raw:n}})},A=async()=>{let{publicKey:t,connected:e}=o.$.getState(),{signature:a}=s.Ee.getState(),{chain:n,network:r}=s.Ee.getState();return await c("/ordx/GetBTCPrice",{publicKey:t,signature:a,chain:n,network:r,connected:e},{})},T=async t=>{let{assets_name:e,assets_type:a}=t,{publicKey:n,connected:r}=o.$.getState(),{signature:i}=s.Ee.getState(),{chain:l,network:u}=s.Ee.getState();return await c("/ordx/GetAssetsAnalytics",{publicKey:n,signature:i,chain:l,network:u,connected:r},{data:{assets_name:e,assets_type:a}})},k=async()=>{let{publicKey:t,connected:e}=o.$.getState(),{signature:a}=s.Ee.getState(),{chain:n,network:r}=s.Ee.getState();return await c("/ordx/GetRecommendedFees",{publicKey:t,signature:a,chain:n,network:r,connected:e})},O=async t=>{let{address:e,orderIds:a}=t,{publicKey:n,connected:r}=o.$.getState(),{signature:i}=s.Ee.getState(),{chain:l,network:u}=s.Ee.getState();return await c("/ordx/LockBulkOrder",{publicKey:n,signature:i,chain:l,network:u,connected:r},{method:"POST",data:{address:e,order_id:a}})},N=async t=>{let{address:e,orderIds:a}=t,{publicKey:n,connected:r}=o.$.getState(),{signature:i}=s.Ee.getState(),{chain:l,network:u}=s.Ee.getState();return await c("/ordx/UnlockBulkOrder",{publicKey:n,signature:i,chain:l,network:u,connected:r},{method:"POST",data:{address:e,order_id:a}})},P=async t=>{let{publicKey:e,connected:a}=o.$.getState(),{signature:n}=s.Ee.getState(),{chain:r,network:i}=s.Ee.getState();return await c("/ordx/GetAddressAssetsValue",{publicKey:e,signature:n,chain:r,network:i,connected:a},{data:{address:t}})},_=async t=>{let{publicKey:e,connected:a}=o.$.getState(),{signature:n}=s.Ee.getState(),{chain:r,network:i}=s.Ee.getState();return await c("/ordx/GetAddressAssetsSummary",{publicKey:e,signature:n,chain:r,network:i,connected:a},{data:{address:t}})},L=async(t,e)=>{let{publicKey:a,connected:n}=o.$.getState(),{signature:r}=s.Ee.getState(),{chain:i,network:l}=s.Ee.getState();return await c("/ordx/GetAddressAssetsList",{publicKey:a,signature:r,chain:i,network:l,connected:n},{data:{address:t,assets_protocol:e}})},U=async t=>{let{address:e,parameters:a,type:n}=t,{publicKey:r,connected:i}=o.$.getState(),{signature:l}=s.Ee.getState(),{chain:u,network:d}=s.Ee.getState();return await c("/ordx/GetLastOrderTaskByParameters",{publicKey:r,signature:l,chain:u,network:d,connected:i},{method:"POST",data:{address:e,parameters:a,type:n}})},$=async t=>{let{address:e,offset:a,size:n,sort_field:r,sort_order:i}=t,{publicKey:l,connected:u}=o.$.getState(),{signature:d}=s.Ee.getState(),{chain:g,network:m}=s.Ee.getState();return await c("/ordx/GetOrderTaskList",{publicKey:l,signature:d,chain:g,network:m,connected:u},{data:{address:e,offset:a,size:n,sort_field:r,sort_order:i}})},B=async t=>{let{address:e,project_id:a}=t,{publicKey:n,connected:r}=o.$.getState(),{signature:i}=s.Ee.getState(),{chain:l,network:u}=s.Ee.getState();return await c("/ordx/GetFeeDiscount",{publicKey:n,signature:i,chain:l,network:u,connected:r},{data:{address:e,project_id:a}})},q=async t=>{let{name:e}=t,{publicKey:a,connected:n}=o.$.getState(),{signature:r}=s.Ee.getState(),{chain:i,network:l}=s.Ee.getState();return await c("/ordx/GetNameCategoryList",{publicKey:a,signature:r,chain:i,network:l,connected:n},{data:{name_set:e}})},G=async t=>{let{address:e,value:a=600,network:n}=t,r="".concat("https://apidev.sat20.org","/btc").concat("testnet"===n?"/testnet":"/mainnet","/utxo/address/").concat(e,"/").concat(a);return(await fetch(r)).json()},R=async()=>(await fetch("/version.txt?t=".concat(+new Date))).text(),j=async t=>{let{address:e,network:a}=t,n="".concat("https://apidev.sat20.org").concat("testnet"===a?"/testnet4":"/mainnet","/exotic/address/").concat(e);return(await fetch(n)).json()},C=async t=>{let{address:e,tickerOrAssetsType:a,network:n,start:r,limit:s}=t,o="".concat("https://apidev.sat20.org").concat("testnet"===n?"/btc/testnet":"/btc/mainnet","/address/utxolist/").concat(e,"/").concat(a,"?start=").concat(r,"&limit=").concat(s);return(await fetch(o)).json()},D=async t=>{let{address:e,sats:a,network:n}=t,r="".concat("https://apidev.sat20.org").concat("testnet"===n?"/testnet4":"/mainnet","/sat/FindSatsInAddress");return(await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:e,sats:a})})).json()},H=async t=>{let{address:e}=t,{publicKey:a,connected:n}=o.$.getState(),{signature:r}=s.Ee.getState(),{chain:i,network:l}=s.Ee.getState();return await c("/sat20twitter/bindaccount",{publicKey:a,signature:r,chain:i,network:l,connected:n},{method:"POST",data:{address:e}})},I=async t=>{let{address:e}=t,{publicKey:a,connected:n}=o.$.getState(),{signature:r}=s.Ee.getState(),{chain:i,network:l}=s.Ee.getState();return await c("/sat20twitter/getaccountinfo",{publicKey:a,signature:r,chain:i,network:l,connected:n},{data:{address:e}})},F=async t=>{let{address:e,activity_name:a,result:n,activity_id:r}=t,{publicKey:i,connected:l}=o.$.getState(),{signature:u}=s.Ee.getState(),{chain:d,network:g}=s.Ee.getState();return await c("/sat20twitter/updateactivity",{publicKey:i,signature:u,chain:d,network:g,connected:l},{method:"POST",data:{address:e,activity_name:a,result:n,activity_id:r}})},z=async t=>{let{address:e,activity_id:a}=t,{publicKey:n,connected:r}=o.$.getState(),{signature:i}=s.Ee.getState(),{chain:l,network:u}=s.Ee.getState();return await c("/sat20twitter/verifyactivity",{publicKey:n,signature:i,chain:l,network:u,connected:r},{data:{address:e,activity_id:a}})};var V=a(2614)},1647:function(t,e,a){a.d(e,{Q5:function(){return i},qE:function(){return o}});var n=a(7437);a(2265);var r=a(4458),s=a(2732);function o(t){let{className:e,...a}=t;return(0,n.jsx)(r.fC,{"data-slot":"avatar",className:(0,s.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...a})}function i(t){let{className:e,...a}=t;return(0,n.jsx)(r.NY,{"data-slot":"avatar-fallback",className:(0,s.cn)("bg-muted flex size-full items-center justify-center rounded-full",e),...a})}},495:function(t,e,a){a.d(e,{d:function(){return i},z:function(){return c}});var n=a(7437);a(2265);var r=a(1538),s=a(3027),o=a(2732);let i=(0,s.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(t){let{className:e,variant:a,size:s,asChild:c=!1,...l}=t,u=c?r.g7:"button";return(0,n.jsx)(u,{"data-slot":"button",className:(0,o.cn)(i({variant:a,size:s,className:e})),...l})}},2732:function(t,e,a){a.d(e,{cn:function(){return s}});var n=a(4839),r=a(6164);function s(){for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];return(0,r.m6)((0,n.W)(e))}},549:function(t,e,a){a.d(e,{aX:function(){return l}});var n=a(9099),r=a(1552),s=a(5747),o=a(4842);let i=async function(t,e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,s=await r.a.getOrdxAddressHolders(t,e,a,n);return(null==s?void 0:s.data)||[]},c=async(t,e)=>e.length?await (0,s.Mf)(3,e,e=>i(t,e,0,100)):[],l=(0,n.Ue)((t,e)=>{let{address:a}=o.$.getState();return console.log("address",a),{loading:!1,error:null,rawAssetList:[],assets:{ordx:[],plain:[],runes:[],brc20:[],ord:[]},plainUtxos:[],availableAssetTypes:[],summaryData:null,isSummaryLoading:!1,setLoading:e=>t({loading:e}),setError:e=>t({error:e}),setRawAssetList:e=>t({rawAssetList:e}),updateAssetsByProtocol:(e,a)=>t(t=>({assets:{...t.assets,[e]:a}})),setPlainUtxos:e=>t({plainUtxos:e}),setAvailableAssetTypes:e=>t({availableAssetTypes:e}),setSummaryData:e=>t({summaryData:e}),setIsSummaryLoading:e=>t({isSummaryLoading:e}),setAssets:e=>t({assets:e}),loadSummaryData:async()=>{let{address:a}=o.$.getState(),n=e();try{if(!a)return console.warn("loadSummaryData: No address found."),null;n.setIsSummaryLoading(!0);let e=await r.a.getAddressSummary(a);if(n.setSummaryData(e),null==e?void 0:e.data){let a=e.data||[],r=[];for(let t=0;t<a.length;t++){let e=a[t],s=e.Name.Protocol||"plain",o="plain"!==s?"".concat(e.Name.Protocol,":").concat(e.Name.Type,":").concat(e.Name.Ticker):"::";if(!n.rawAssetList.find(t=>(null==t?void 0:t.key)===o)){let t=e.Name.Ticker;if(console.log("key",o),"::"!==o)try{let e=await window.sat20.getTickerInfo(o);if(console.log("infoRes",e),null==e?void 0:e.ticker){let{ticker:a}=e,n=JSON.parse(a);console.log("ticker result",n),t=(null==n?void 0:n.displayname)||t}}catch(t){console.error("error",t)}console.log("label",t),r.push({id:o,key:o,protocol:"plain"===s?"":e.Name.Protocol,type:e.Name.Type,label:t,ticker:e.Name.Ticker,utxos:[],amount:Number(e.Amount)})}}if(r.length>0){let e=[...n.rawAssetList,...r],a={ordx:[],plain:[],runes:[],brc20:[],ord:[]};e.forEach(t=>{let e=t.protocol||"plain";a[e]?a[e].push(t):console.warn("Unknown protocol found for asset key ".concat(t.key,": ").concat(t.protocol))});let s=[...e.some(t=>!t.protocol)?[{label:"BTC",value:"btc"}]:[],...e.some(t=>"ordx"===t.protocol)?[{label:"SAT20",value:"ordx"}]:[],...e.some(t=>"runes"===t.protocol)?[{label:"Runes",value:"runes"}]:[]];t({rawAssetList:e,assets:a,availableAssetTypes:s}),console.log("updatedRawAssetList",a)}}return e}catch(t){return console.error("Failed to load summary data:",t),n.setError(t instanceof Error?t:Error("Failed to load summary data")),null}finally{n.setIsSummaryLoading(!1)}},loadUtxoData:async a=>{let{address:n}=o.$.getState(),r=e();try{if(!n)return console.warn("loadUtxoData: No address found."),[];r.setLoading(!0);let e=a||r.rawAssetList.map(t=>t.key).filter(t=>"plain::"!==t);if(0===e.length)return console.log("No asset keys found to fetch UTXOs for."),r.setLoading(!1),[];let s=await c(n,e),o=r.rawAssetList.map(t=>{let a=e.indexOf(t.key);return -1!==a&&s[a]?{...t,utxos:s[a]}:t}),i={ordx:[],plain:[],runes:[],brc20:[],ord:[]};return o.forEach(t=>{let e=t.protocol||"plain";i[e]&&i[e].push(t)}),t({rawAssetList:o,assets:i}),s}catch(t){return console.error("Failed to load UTXO data:",t),r.setError(t instanceof Error?t:Error("Failed to load UTXO data")),[]}finally{r.setLoading(!1)}},refreshAssets:async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e(),{resetState:r=!0,refreshSummary:s=!0,clearCache:o=!0}=a;try{return r&&t({rawAssetList:[],assets:{ordx:[],plain:[],runes:[],brc20:[],ord:[]},plainUtxos:[],availableAssetTypes:[],summaryData:null}),s&&await n.loadSummaryData(),!0}catch(t){return n.setError(t instanceof Error?t:Error("Failed to refresh assets")),!1}},reset:()=>t({loading:!1,error:null,rawAssetList:[],assets:{ordx:[],plain:[],runes:[],brc20:[],ord:[]},plainUtxos:[],availableAssetTypes:[],summaryData:null,isSummaryLoading:!1})}})},8617:function(t,e,a){a.d(e,{E:function(){return s}});var n=a(9099),r=a(9291);let s=(0,n.Ue)()((0,r.mW)((0,r.tJ)(t=>({feeRate:{value:1,type:"custom"},chain:"SatoshiNet",network:"testnet",btcHeight:0,runtimeEnv:"dev",btcPrice:0,appVersion:0,signature:"",setEnv:e=>{t({runtimeEnv:e})},setChain:e=>{t({chain:e})},setNetwork:e=>{t({network:e})},setAppVersion:e=>{t({appVersion:e})},setSignature:e=>{t({signature:e})},setFeeRate:e=>{t({feeRate:e})},setBtcPrice:e=>{t({btcPrice:e})},setHeight:e=>{t({btcHeight:e})},reset:()=>{t({btcHeight:0,feeRate:{value:1,type:"custom"},appVersion:0})}}),{name:"common-store",partialize:t=>Object.fromEntries(Object.entries(t).filter(t=>{let[e]=t;return["signature"].includes(e)}))})))},3769:function(t,e,a){a.d(e,{aX:function(){return c.aX},Ee:function(){return i.E},YL:function(){return l.Y},X$:function(){return d}});var n=a(9099),r=a(9291),s=a(7603),o=a(5033);(0,n.Ue)()((0,r.mW)((t,e)=>({unit:"sats",amountUnit:"btc",assets_type:"",assets_name:"",list:[],changePrice(a,n){let{list:r,assets_type:i,amountUnit:c,unit:l,assets_name:u}=e();r.find(t=>t.utxo===a);let d=[];for(let t=0;t<r.length;t++){let e=r[t];if(e.utxo===a){var g,m,f,h;let t=0;if(t="ns"===i?1:"exotic"===i?(null===(m=e.assets_list)||void 0===m?void 0:null===(g=m.find(t=>"exotic"===t.assets_type))||void 0===g?void 0:g.amount)||0:(null===(h=e.assets_list)||void 0===h?void 0:null===(f=h.find(t=>t.assets_name===u))||void 0===f?void 0:f.amount)||0,""===n||isNaN(Number(n)))e.unit_price="",e.price="";else{let a="btc"===l?(0,o.g)(n).toString():n,r=new s.t(a).mul(new s.t(t)).toNumber();r=Math.ceil(r).toString(),r="btc"===c?(0,o.Ay)(r.toString()).toString():r,e.unit_price=a,e.price=r}}d.push(e)}t({list:d})},changeAssetsName(e){t({assets_name:e})},changeAssetsType(e){t({assets_type:e})},changeStatus(a,n){let{list:r}=e();t({list:r.map(t=>t.utxo===a?{...t,status:n}:t)})},changeUnit(a){let{list:n,assets_type:r,amountUnit:i,assets_name:c}=e(),l=n.map(t=>{var e,n,l,u;let d="btc"===a?(0,o.Ay)(t.unit_price).toString():(0,o.g)(t.unit_price).toString(),g=0;g="ns"===r?1:"exotic"===r?(null===(n=t.assets_list)||void 0===n?void 0:null===(e=n.find(t=>"exotic"===t.assets_type))||void 0===e?void 0:e.amount)||0:(null===(u=t.assets_list)||void 0===u?void 0:null===(l=u.find(t=>t.assets_name===c))||void 0===l?void 0:l.amount)||0;let m="btc"===a?(0,o.g)(d).toString():d,f=new s.t(m).mul(new s.t(g)).toString();return f="btc"===i?(0,o.Ay)(f).toString():f,{...t,unit_price:d,price:f}});t({unit:a,list:l})},changeAmountUnit(a){let{list:n}=e(),r=n.map(t=>({...t,price:"btc"===a?(0,o.Ay)(t.price).toString():(0,o.g)(t.price).toString()}));t({amountUnit:a,list:r})},add:a=>{let{list:n,assets_type:r,assets_name:i}=e();if(!n.find(t=>t.utxo===a.utxo)){var c,l,u;console.log("add: item.assets_list: ",a.assets_list),console.log("add: assets_name: ",i),console.log("add: assets_type: ",r),console.log("add: item: ",a),console.log("add: item.assets_list?.find((v) => v.assets_name === assets_name): ",null===(c=a.assets_list)||void 0===c?void 0:c.find(t=>t.assets_name===i));let e=(null===(u=a.assets_list)||void 0===u?void 0:null===(l=u.find(t=>t.assets_name===i))||void 0===l?void 0:l.amount)||0;console.log("add: amount: ",e);let n=new s.t(a.unit_price).mul(new s.t(e)).toString();n=(0,o.Ay)(n).toString(),t(t=>({list:[...t.list,{...a,price:n}]}))}},remove:e=>{t(t=>({list:t.list.filter(t=>t.utxo!==e)}))},reset:()=>{t({assets_name:"",assets_type:"",unit:"sats",amountUnit:"btc",list:[]})}}))),(0,n.Ue)()((0,r.mW)((t,e)=>({list:[],setList:e=>{t({list:e})},changePrice(a,n){let{list:r}=e();t({list:r.map(t=>t.utxo===a?{...t,price:n}:t)})},changeStatus(a,n){let{list:r}=e();t({list:r.map(t=>t.utxo===a?{...t,status:n}:t)})},add:a=>{let{list:n}=e();!n.find(t=>t.utxo===a.utxo)&&n.length<32&&t(t=>({list:[...t.list,a]}))},remove:e=>{t(t=>({list:t.list.filter(t=>t.utxo!==e)}))},reset:()=>{t({list:[]})}})));var i=a(8617),c=a(549),l=a(4911),u=a(4842);let d=(0,n.Ue)()((0,r.mW)((0,r.tJ)((t,e)=>({balance:{availableAmt:0,lockedAmt:0},setBalance:e=>{t({balance:e})},getBalance:async()=>{let{address:e}=u.$.getState();if(!e)return;let a=await window.sat20.getAssetAmount_SatsNet(e,"::");console.log("amountResult",a),t({balance:{availableAmt:a.availableAmt,lockedAmt:a.lockedAmt}})}}),{name:"wallet-store",partialize:t=>Object.fromEntries(Object.entries(t).filter(t=>{let[e]=t;return["balance"].includes(e)}))})))},4911:function(t,e,a){a.d(e,{Y:function(){return o}});var n=a(9099),r=a(9291),s=a(7342);let o=(0,n.Ue)()((0,r.mW)((t,e)=>({list:[],setList:e=>{(0,s.DY)(e,t=>t.value,!0),t({list:e})},add:a=>{let n=e().list;n.push(a),(0,s.DY)(n,t=>t.value,!0),t({list:n})},remove:a=>{t({list:e().list.filter(t=>t.utxo!==a)})},removeUtxos:a=>{console.log("source Utxos",a);let n=e().list.filter(t=>!a.find(e=>e.txid===t.txid&&e.vout===t.vout));console.log("removeUtxos",n),t({list:n})},getUnspendUtxos:()=>{let{list:t}=e();return[...t.filter(t=>"unspend"===t.status&&"local"!==t.location),...t.filter(t=>"unspend"===t.status&&"local"===t.location)]},changeUtxosStatus:(a,n)=>{t({list:e().list.map(t=>(a.find(e=>e.utxo===t.utxo)&&(t.status=n),t))})},selectUtxosByAmount:a=>{let{list:n}=e(),r=n.filter(t=>"unspend"===t.status&&"local"!==t.location).filter(t=>t.value>=a),s=[];return r.length&&(s=[r[r.length-1]]),t({list:n}),s},reset:()=>{t({list:[]})}})))},5033:function(t,e,a){function n(t){"string"==typeof t&&(t=t.trim()),isNaN(Number(t))&&(console.warn("Input is not a valid number, defaulting to 0"),t=0);let e=Number(t);return e<0&&(console.warn("Input must be a non-negative number, defaulting to 0"),e=0),(e=Math.round(e))/1e8}a.d(e,{$B:function(){return i},Ay:function(){return n},NH:function(){return r},g:function(){return s},vW:function(){return c},xp:function(){return o}});let r=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*****";return"string"==typeof t&&t?"".concat(null==t?void 0:t.substring(0,e)).concat(a).concat(null==t?void 0:t.substring((null==t?void 0:t.length)-e)):""};function s(t){"string"==typeof t&&(t=t.trim()),isNaN(Number(t))&&(console.warn("Input is not a valid number, defaulting to 0"),t=0);let e=Number(t);return e<0&&(console.warn("Input must be a non-negative number, defaulting to 0"),e=0),Math.round(1e8*e)}function o(t){if("number"!=typeof t||isNaN(t)||0===t)return"0";let e=t.toFixed(8);return e.includes(".")&&(e=(e=e.replace(/0+$/,"")).replace(/\.$/,"")),e}let i=t=>{let e={...t};return Object.keys(e).forEach(t=>{(""===e[t]||void 0===e[t]||null===e[t]||"null"===e[t]||"undefined"===e[t]||"NaN"===e[t]||isNaN(e[t])&&"number"==typeof e[t])&&delete e[t]}),e},c=t=>(console.log("asset",t),"".concat(t.Protocol,":").concat(t.Type,":").concat(t.Ticker))}}]);